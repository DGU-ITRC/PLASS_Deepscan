<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>File Upload</title>
        <style>
            .box {
                display: flex;
                flex-direction: column;
                padding: 1.5rem;
                max-width: 28rem;
                border: 1px solid #ccc;
            }
            form {
                display: flex;
                flex-direction: row;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <h1>딥러닝 기반 이미지 검색 데모</h1>

        <h2>정보</h2>
        <div class="box">
            <p>연구실 PLASS</p>
            <p>업로드된 이미지 파일에 대해 유사한 이미지를 검색합니다.</p>
            <a href="/redoc">API 문서확인하기</a>
        </div>
        <h2>데모 실행</h2>
        <div class="box">
            <form method="POST" action="/" enctype="multipart/form-data">
                <label for="upload">업로드</label>
                <input type="file" name="upload_image" id="upload" />
                <input type="submit" />
            </form>
            <h2>Query:</h2>
            {% if query_path %}
            <img src="{{ query_path }}" width="300px" />
            {% endif %}
            <h2>Results:</h2>
            {% for score in scores %}
            <figure
                style="display: flex; flex-direction: column; max-width: 100%"
            >
                <img src="{{ score[1] }}" style="max-width: 100%" />
                <figcaption>유사도: {{ score[0] }}%</figcaption>
            </figure>
            {% endfor %}
        </div>
    </body>
</html>
